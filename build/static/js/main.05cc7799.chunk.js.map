{"version":3,"sources":["images/logo.svg","images/Union.svg","images/error.svg","components/Header.js","Auth.js","components/Login.js","components/Register.js","components/InfoToolTip.js","components/ProtectedRoute.js","components/Card.js","contexts/CurrentUserContext.js","components/Main.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePopup.js","components/Footer.js","utils/API.js","components/Elements.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","props","className","src","headerLogo","alt","exact","path","to","userData","type","onClick","signOut","BASE_URL","Login","React","useState","email","setEmail","password","setPassword","history","useHistory","onSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","status","json","console","log","err","data","localStorage","setItem","token","Auth","handleLogin","push","catch","placeholder","value","onChange","target","Register","successRegister","handlePopup","InfoToolTip","isOpen","onClose","success","confirm","error","ProtectedRoute","Component","component","loggedIn","Card","isOwn","card","owner","_id","currentUser","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onDeleteButton","cardLike","length","CurrentUserContext","createContext","Main","useContext","avatar","onEditAvatar","about","onEditProfile","onAddPlace","cards","map","key","onCardClick","ImapePopup","PopupWithForm","id","title","children","btnTitle","EditProfilePopup","setName","description","setDescription","useEffect","onUpdateUser","minLength","maxLength","required","defaultValue","EditAvatarPopup","counterRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","url","DeletePopup","Footer","api","baseUrl","this","ok","Promise","reject","authorization","Elements","setCurrentUser","setCards","deleteCard","setDeleteCard","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isDeletePopupOpen","setDeletePopupOpen","selectedCard","setSelectedCard","bigPopup","setBigPopup","closeAllPopups","getInfo","getInitialCards","Provider","editProfile","addNewCard","newCard","changeAvatar","newCards","filter","c","ImagePopup","changeLikeCardStatus","App","setLoggedIn","setUserData","isInfoToolOpen","setIsInfoToolOpen","setSuccessRegister","tokenCheck","getItem","jwt","removeItem","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.05cc7799.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";","module.exports = __webpack_public_path__ + \"static/media/Union.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/error.4072126c.svg\";","import React from 'react';\nimport headerLogo from '../images/logo.svg';\nimport { Route, NavLink } from 'react-router-dom';\n\nfunction Header(props) {\n  return(\n    <header className=\"header\">  \n      <img src={headerLogo} className=\"header__logo\" alt=\"логотип\" />  \n\n    <Route exact path=\"/signin\">\n      <NavLink className=\"header__nav\" to=\"/signup\"> Регистрация </NavLink>\n    </Route>\n\n    <Route exact path=\"/signup\">\n      <NavLink className=\"header__nav\" to=\"/signin\"> Войти </NavLink>\n    </Route>\n\n    <Route exact path=\"/\">\n      <p className=\"header__info\"> {props.userData} </p>\n      <button className=\"header__button\" type='button' onClick={props.signOut}> Выйти </button>\n    </Route>\n\n    </header>  \n  );\n}\n\nexport default Header;","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const register = (email, password) => {\n  return fetch (`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({email, password})\n    })\n    .then((res) => {\n        try {\n          if (res.status === 201){\n            return res.json();\n          }\n        } catch(err) {\n            return err\n        }\n    }) \n    .then((res) => {\n      return res;\n    })\n};\n\n\nexport const login = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      email, password\n    })\n  })\n    .then((res) => {\n      try {\n        if (res.status === 200) {\n          return res.json();\n        }\n        if (res.status === 401) {\n          return console.log('некорректно заполнено одно из полей')\n        }\n      }\n      catch (err) {\n        return err;\n      };\n    })\n    .then((data) => {\n      localStorage.setItem('jwt', data.token);\n      return data;\n    });\n}\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\": `Bearer ${token}`\n    },\n  })\n    .then((res) => {\n      try {\n        if (res.status === 200) {\n          return res.json();\n        }\n        if (res.status === 401) {\n          return console.log('Токен не передан или передан не в том формате')\n        }\n      }\n      catch (err) {\n        return err;\n      };\n    })\n    .then((data) => {\n      return data;\n    });\n}","import React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport * as Auth from '../Auth.js';\n\n\nconst  Login = (props) => {\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const history = useHistory();\n\nconst handleSubmit = (e) => {\n   e.preventDefault();\n    Auth.login(email, password)\n    .then((data) => {\n      if(data.token) {\n        setEmail('')\n        setPassword('')\n        props.handleLogin();\n        history.push('/');\n      } else { \n        return;\n      }\n    })\n    .catch(err => console.log(err));\n  }\nreturn(\n  <>\n  <form onSubmit={handleSubmit} className=\"main\"> \n    <h1 className=\"main__title\"> Вход </h1> \n    <input className=\"main__input\" type=\"text\" placeholder=\"Email\" value={email} onChange={e => setEmail( e.target.value )} /> \n    <span> </span>\n    <input className=\"main__input main__input_margins\" type=\"text\" placeholder=\"Пароль\" value={password} onChange={e => setPassword( e.target.value )}/>\n    <span> </span>\n    <button className=\"main__button\" type=\"submit\"> Войти </button>\n    <div className=\"main__caption\"> \n      <p> Еще не зарегистрированы? </p> \n      <Link to =\"/signup\" className=\"main__register\"> Регистрация</Link>\n    </div>\n  </form>\n  </>\n  );\n}\n\n export default Login;","import React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport * as Auth from '../Auth.js';\n\nconst Register = (props) =>{\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const history = useHistory();\n\n  const handleSubmit = e => {\n   e.preventDefault();\n   Auth.register(email, password)\n   .then((res) => {\n     if (res){ \n     props.successRegister();\n     props.handlePopup();\n       history.push('/signin');\n     } else{ \n      props.handlePopup();\n     }\n   })\n   .catch(() => {\n      console.log(\"Что-то не так\")\n     })\n  }\n\nreturn(\n  <>\n  <form className=\"main\" onSubmit={handleSubmit}> \n  <h1 className=\"main__title\"> Регистрация </h1> \n  <input className=\"main__input\" type=\"text\" placeholder=\"Email\" value={email} onChange={e => setEmail( e.target.value )} /> \n  <span> </span>\n  <input className=\"main__input main__input_margins\" type=\"text\" placeholder=\"Пароль\" value={password} onChange={e => setPassword( e.target.value )} />\n  <span> </span>\n  <button className=\"main__button\" type=\"submit\"> Зарегистрироваться </button>\n  <div className=\"main__caption\"> \n      <p> Уже зарегистрированы? </p> \n      <Link to =\"/signin\" className=\"main__register\"> Войти </Link>\n  </div>\n  </form>\n  </>\n  )\n}\n\nexport default Register;\n","import React from 'react';\nimport confirm from '../images/Union.svg';\nimport error from '../images/error.svg';\n\nfunction InfoToolTip(props) {\n  return(\n    <section className={(props.isOpen ? 'popup popup_opened' : 'popup')}> \n      <form className=\"popup__container\">\n        <button className='popup__close' onClick={props.onClose} type=\"reset\"></button>  \n        <img src={( props.success ? confirm : error )} className=\"infopopup__image\" alt=\"kartinka\" /> \n        <h2 className=\"infopopup__title\"> { props.success ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.' } </h2>\n      </form>\n\n    </section>\n  )\n}\n\nexport default InfoToolTip;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n    return(\n      <Route> \n        {\n          () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./signin\" />\n        }\n      </Route>\n    )\n}\n\nexport default ProtectedRoute;","import React from 'react';\n\nfunction Card(props) {\n  // увеличенная картинка\n  function handleClick() {\n    props.onClick(props.card)\n  }\n  // лайк\n  function handleLikeClick() {\n    props.cardLike(props.card)\n  }\n  // удаление карточки\n  function handleCardDelete() {\n    props.onDeleteButton(props.card)\n  }\n\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = props.card.owner._id === props.currentUser._id;\n  const cardDeleteButtonClassName = (\n    `element__trash ${isOwn ? '' : 'element__trash_active'}`\n  );\n  // Определяем лайки\n  const isLiked = props.card.likes.some(i => i._id === props.currentUser._id);\n  const cardLikeButtonClassName = (`element__like ${isLiked ? 'element__like_active' : ''}`);\n\n  return( \n    <div className=\"element\">    \n      <img className=\"element__image\" src={props.card.link} alt={props.card.name} onClick={handleClick} />    \n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleCardDelete}></button>   \n      <div className=\"element__text\">   \n        <h2 className=\"element__title\">{props.card.name}</h2>   \n        <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\"></button>   \n        <div className=\"element__like_count\">{props.card.likes.length}</div>  \n      </div>   \n    </div>   \n  ); \n} \nexport default Card;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n\n","import React from 'react';\nimport Card from './Card.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext)\n\n  return(\n    <>\n    <section className=\"profile\">  \n      <img className=\"profile__image\"  src={currentUser.avatar} name=\"avatar\" alt=\"фотография Жак-Ив Кусто\" />  \n      <div className=\"profile__pen\" onClick={props.onEditAvatar}> </div> \n      <div className=\"profile__info\">   \n        <h1 className=\"profile__title\">{currentUser.name}</h1>  \n        <p className=\"profile__subtitle\">{currentUser.about}</p>  \n      </div>  \n      <button className=\"profile__edit\" type=\"button\" onClick={props.onEditProfile}></button>  \n      <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>  \n    </section> \n    <section className=\"elements\">\n        {props.cards.map((card) =>  <Card key={card._id} card={card} onDeleteButton={props.onDeleteButton} currentUser={currentUser} onClick={props.onCardClick} cardLike={props.cardLike} />)}\n    </section> \n\n   </>\n    );\n  }\n  \n  export default Main;","import React from 'react';\n\nfunction ImapePopup(props) {\n  return(\n    <section className={`popup popup_opacity  ${props.isOpen ? ('popup_opened') : ('')} `} >  \n      <div className=\"popup__zoomed\">  \n        <button className=\"popup__close popup__close-zoom\" type=\"button\" onClick={props.onClose}></button>  \n          <img className=\"popup__image\" src={props.card.link} alt={props.card.name}/>  \n          <p className=\"popup__caption\">{props.card.name}</p>  \n      </div>  \n    </section> \n    )  \n  }\n\nexport default ImapePopup;\n\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return(\n    <>\n      <section className={`popup popup_opacity-normal popup_type_${props.name} ${props.isOpen ? ('popup_opened') : ('')} ` } >  \n        <form className={`popup__container popup__container_${props.avatar}`} name=\"form\" id=\"form-info\" onSubmit={props.onSubmit}>  \n          <button className={'popup__close'} onClick={props.onClose} type=\"reset\"></button>  \n          <h2 className=\"popup__title\">{props.title}</h2>  \n           {props.children}\n          <button className=\"popup__button popup__button_active \" type=\"submit\" id=\"button-info\" >{props.btnTitle}</button>  \n        </form>  \n      </section>  \n    </>\n  )\n}\n  \nexport default PopupWithForm;\n    \n","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // const [value, setValue] = React.useState('');\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleAboutChange(e) {\n    setDescription(e.target.value);\n\n  }\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser({\n        name: name,\n        about: description\n      });\n}\n\n  return (\n    <PopupWithForm name=\"info\" onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose}  title=\"Редактировать профиль\" btnTitle=\"Сохранить\" children={\n        <>\n        <input type=\"text\" className=\"popup__input\" id='author' name=\"author\" id=\"popup__name\" minLength=\"2\" maxLength=\"40\" required pattern=\"[A-Za-zА-ЯЁа-яё -]{1,}\" defaultValue={name} onChange={handleNameChange}/>  \n        <span className=\"popup__input-error\" id=\"popup__name-error\"></span> \n        <input type=\"text\" className=\"popup__input\" name=\"about\" id=\"popup__info\" minLength=\"2\" maxLength=\"200\" required  defaultValue={description} onChange={handleAboutChange}/> \n        <span className=\"popup__input-error\" id=\"popup__info-error\"></span>  \n        </>\n      }/>\n  );\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction EditAvatarPopup(props) {\n\n  const counterRef = React.useRef(); // используем реф\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: counterRef.current.value\n    });\n  }\n\n  return(\n    <PopupWithForm name=\"avatar\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} title=\"Обновить аватар\" btnTitle=\"Сохранить\" avatar=\"avatar\" children={\n        <>\n        <input type=\"url\" className=\"popup__input\" name=\"avatar\" id=\"avatar__url\" ref={counterRef} required /> \n        <span className =\"popup__input-error\" id=\"avatar__url-error\"> </span> \n        </>\n      }/>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction AddPlacePopup(props) {\n\n  const title = React.useRef(); // используем реф\n  const url = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault(); \n    props.onAddPlace({\n        name: title.current.value,\n        link: url.current.value\n    });\n  }\n  return(\n    <PopupWithForm name=\"locations\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} title=\"Новое место\" btnTitle=\"Создать\" children={\n        <>\n       <input type=\"text\" className=\"popup__input\" name=\"name\" placeholder=\"Название\" id=\"cards__name\" minLength=\"1\" maxLength=\"30\" ref={title} required  />  \n       <span className=\"popup__input-error\" id=\"cards__name-error\"></span> \n       <input type=\"url\" className=\"popup__input\" name=\"link\" placeholder=\"Ссылка на картинку\" id=\"cards__info\" ref={url} required /> \n       <span className=\"popup__input-error\" id=\"cards__info-error\"></span>  \n        </>\n      }/>\n  );\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction DeletePopup(props) {\n\n  function handleDelete(e) {\n    e.preventDefault();\n    props.onSubmit();\n  }\n\n  return(\n    <PopupWithForm name=\"trash\" isOpen={props.isOpen} onClose={props.onClose} \n    title=\"Вы уверены?\" avatar=\"delete\" btnTitle=\"Да\" onSubmit={handleDelete}/>\n  );\n}\n\nexport default DeletePopup;","import React from 'react';\n\nfunction Footer() {\n  return(\n    <footer className=\"footer\">  \n      <p className=\"footer__text\"> &copy; 2020 Mesto Russia</p>  \n    </footer>  \n  );\n}\n\nexport default Footer;\n\n","\n\nexport class Api {\n  constructor({ baseUrl, headers }) {\n  this.baseUrl = baseUrl;\n  this.headers = headers;\n  }\n\n  getInfo() {\n    return fetch( this.baseUrl, {  \n        method: 'GET', \n        headers: this.headers \n      })\n      .then(res => {\n        if (res.ok) {\n        return res.json();\n        }\n        // если ошибка, отклоняем промис\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n  }\n\n  getInitialCards() {\n    return fetch('https://mesto.nomoreparties.co/v1/cohort-12/cards', { \n      method: 'GET',\n      headers: this.headers   \n    })\n    .then(res => {\n      if (res.ok) {\n          return res.json();\n      }\n      // если ошибка, отклоняем промис\n      return Promise.reject(`Карточки не загружены: ${res.status}`);\n      })\n  }\n\n  editProfile(name, about) {\n    return fetch(this.baseUrl, {\n      method: 'PATCH', \n      headers: this.headers,\n      body: JSON.stringify({\n          name: name,\n          about: about\n        })\n      })\n      .then(res => {\n      if (res.ok) {\n      return res.json();\n      }\n      // если ошибка, отклоняем промис\n      return Promise.reject(`Ошибка: ${res.status}`);\n    })\n  }\n  \n  addNewCard(name, link) {\n      return fetch('https://mesto.nomoreparties.co/v1/cohort-12/cards', {\n        method: 'POST',\n        headers: this.headers,\n        body: JSON.stringify({\n          name: name,\n          link: link\n        }) \n      })\n      .then(res => {\n          if (res.ok) {\n          return res.json();\n          }\n          // если ошибка, отклоняем промис\n          return Promise.reject(`Ошибка: ${res.status}`);\n        })\n  }\n  \n\n  changeLikeCardStatus(id, isLiked) {\n  if (isLiked) {\n    return fetch(`https://mesto.nomoreparties.co/v1/cohort-12/cards/likes/${id}`, {\n      method: 'DELETE',\n      headers: this.headers,\n      }) \n      .then(res => {\n       if (res.ok) {\n       return res.json();\n       }\n       // если ошибка, отклоняем промис\n       return Promise.reject(`Ошибка: ${res.status}`);\n     })\n  } else {\n    return fetch(`https://mesto.nomoreparties.co/v1/cohort-12/cards/likes/${id}`, {\n      method: 'PUT',\n      headers: this.headers,\n      }) \n      .then(res => {\n       if (res.ok) {\n       return res.json();\n       }\n       // если ошибка, отклоняем промис\n       return Promise.reject(`Ошибка: ${res.status}`); \n     })  \n    }}\n\n\n  deleteCard(id) {\n   return fetch(`https://mesto.nomoreparties.co/v1/cohort-12/cards/${id}`, {\n     method: 'DELETE',\n     headers: this.headers,\n    }) \n    .then(res => {\n     if (res.ok) {\n     return res.json();\n     }\n     // если ошибка, отклоняем промис\n     return Promise.reject(`Ошибка: ${res.status}`);\n   })\n  } \n\nchangeAvatar(avatar) {\n return fetch('https://mesto.nomoreparties.co/v1/cohort-12/users/me/avatar' , {\n  method: 'PATCH',\n  headers: this.headers,\n  body: JSON.stringify({\n    avatar: avatar\n  })\n  })\n  .then(res => {\n   if (res.ok) {\n   return res.json();\n   }\n   // если ошибка, отклоняем промис\n   return Promise.reject(`Ошибка: ${res.status}`);\n })\n}\n}\n// создаем экземпляр \n const api = new Api({ \n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-12/users/me', \n  headers: { \n      authorization: '8eaaf06a-2ca4-4be0-bedd-db145fddf3b1', \n      'Content-Type': 'application/json' \n   } \n}) \n\nexport default api;\n\n","import React from 'react';\nimport Main from './Main.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport ImagePopup from './ImagePopup.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport DeletePopup from './DeletePopup.js';\nimport Footer from './Footer.js';\nimport api from '../utils/API.js';\n\nfunction Elements() {\n    const [currentUser, setCurrentUser] = React.useState([]);\n    const [cards, setCards] = React.useState([]);\n    const [deleteCard, setDeleteCard] = React.useState([])\n\n    const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n    const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n    const [isDeletePopupOpen, setDeletePopupOpen] = React.useState(false);\n    const [selectedCard, setSelectedCard] = React.useState(false);\n    const [bigPopup, setBigPopup] = React.useState([]);\n  \n        // получаем информацию о пользователе\n  React.useEffect(() => {\n    api.getInfo().then(res => {\n      setCurrentUser(res)\n      })\n      .catch(err => { \n        console.log(err)  \n      }) \n    }, [])\n    \n    \n  // получаем карточки от сервера\n  React.useEffect(() => {\n    api.getInitialCards().then(data => {\n      setCards(data); \n    })\n    .catch(err => { \n      console.log(err)  \n    }) \n  }, []);\n    \n    // функция для лайков и дизлайков карточки\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n     api.changeLikeCardStatus(`${card._id}`, isLiked)\n      .then((newCard) => {\n      // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      // Обновляем стейт\n      setCards(newCards);\n    });\n  } \n    // функция для удаления карточки\n  function handleCardDeleteSubmit() {\n    api.deleteCard(deleteCard._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== deleteCard._id);\n        setCards(newCards);\n        closeAllPopups();\n      });\n    }\n  // изменяем информацию о пользователи \n  function handleUpdateUser({name, about}) {\n    api.editProfile(name, about) \n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n    }\n  // изменяем аватар\n  function handleUpdateAvatar({avatar}) {\n    api.changeAvatar(avatar)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n  }\n    // открываем увеличенную карточку\n    function handleCardClick(props) {\n      setSelectedCard(true);\n      setBigPopup(props);\n    }\n    // открываем попап редактирования информации\n    function handleEditProfile() {\n      setEditProfilePopupOpen(true);\n    }\n    // открываем попап добавления нового места\n    function handleAddPlace() {\n      setAddPlacePopupOpen(true);\n      console.log();\n    }\n    // попап редактирования аватарки\n    function handleEditAvatar() {\n      setEditAvatarPopupOpen(true);\n    }\n    // удаления карточки\n    function handleDelete(card) {\n      setDeleteCard(card)\n      setDeletePopupOpen(true)\n    }\n  \n    function closeAllPopups() {\n      setEditProfilePopupOpen(false);\n      setAddPlacePopupOpen(false);\n      setEditAvatarPopupOpen(false);\n      setSelectedCard(false);\n      setDeletePopupOpen(false)\n    }\n  \n    // добавляем новую карточку\n    function handleAddPlaceSubmit({name, link}) {\n      api.addNewCard(name, link)\n        .then((newCard) => {\n          setCards([newCard, ...cards]);\n          })\n        closeAllPopups();\n      }\n\nreturn(\n  <CurrentUserContext.Provider value={currentUser}>  \n\n\n  <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n\n<AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\n      \n<EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n \n<DeletePopup isOpen={isDeletePopupOpen} onClose={closeAllPopups} onSubmit={handleCardDeleteSubmit}  />\n\n<ImagePopup card={bigPopup} isOpen={selectedCard} onClose={closeAllPopups}/>\n  \n<Main      \n                onEditProfile={handleEditProfile} \n                onAddPlace={handleAddPlace} \n                onEditAvatar={handleEditAvatar}\n                cards={cards}  \n              cardLike={handleCardLike} \n              onDeleteButton={handleDelete} \n              onCardClick={handleCardClick}\n  />\n  \n<Footer />\n\n</CurrentUserContext.Provider>\n\n  );\n}\n\nexport default Elements;","import React from 'react';\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\nimport Header from './Header.js';\nimport Login from './Login.js';\nimport Register from './Register.js';\nimport InfoToolTip from './InfoToolTip.js';\nimport ProtectedRoute from './ProtectedRoute.js';\nimport Elements from './Elements.js';\nimport * as Auth from '../Auth.js';\n\nfunction App() {\n\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [userData, setUserData] = React.useState('');\n  const [isInfoToolOpen, setIsInfoToolOpen] = React.useState(false);\n  const [successRegister, setSuccessRegister] = React.useState(false);\n\n  const history = useHistory();\n\n  function handleInfoToolPopup() {\n    setIsInfoToolOpen(true);\n  }\n\n  function handleSuccessRegister() {\n    setSuccessRegister(true);\n  }\n\n  function handleLogin() {\n    setLoggedIn(true);\n  }\n\n  function closePopup() {\n    setIsInfoToolOpen(false)\n  }\n\n  function tokenCheck() {\n    if (localStorage.getItem('jwt')) {\n      let jwt = localStorage.getItem('jwt');\n      Auth.getContent(jwt)\n        .then((res) => {\n          if (res.data) {\n            setLoggedIn(true); \n            setUserData(res.data.email); \n            history.push('/');\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        })\n    }\n  }\n\n   React.useEffect(() => {\n    tokenCheck();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loggedIn]) \n\n\n  function signOut() {\n    localStorage.removeItem('jwt');\n    history.push('/signin')\n    setLoggedIn(false);\n     setUserData('');\n  }\n\n  return (\n\n      <div className=\"App\">\n        <div className=\"page\">  \n\n          <Header signOut={signOut} userData={userData}/>\n\n          <InfoToolTip isOpen={isInfoToolOpen} success={successRegister} onClose={closePopup} > </InfoToolTip>\n  \n          <Switch>\n\n            <ProtectedRoute exact path=\"/\" loggedIn={loggedIn} component={Elements} />\n\n            <Route  path=\"/signup\"> <Register handlePopup={handleInfoToolPopup} successRegister={handleSuccessRegister} />  </Route>\n\n            <Route  path=\"/signin\"> <Login handleLogin={handleLogin} tokenCheck={tokenCheck}/>  </Route>\n\n            <Route> {loggedIn ? <Redirect to=\"/\" /> : <Redirect to='/signin' />} </Route>\n            \n\n            </Switch>\n\n\n      </div>  \n    </div>\n\n  );\n\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter> \n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}