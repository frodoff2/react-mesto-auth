{"ast":null,"code":"import _defineProperty from\"/Users/assetmurzabayev/Desktop/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/assetmurzabayev/Desktop/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import PopupWithForm from'./PopupWithForm.js';import{CurrentUserContext}from'../contexts/CurrentUserContext.js';function EditProfilePopup(props){var _React$createElement;var currentUser=React.useContext(CurrentUserContext);// const [value, setValue] = React.useState('');\nvar _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];React.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser]);function handleNameChange(e){setName(e.target.value);}function handleAboutChange(e){setDescription(e.target.value);}function handleSubmit(e){// Запрещаем браузеру переходить по адресу формы\ne.preventDefault();// Передаём значения управляемых компонентов во внешний обработчик\nprops.onUpdateUser({name:name,about:description});}return/*#__PURE__*/React.createElement(PopupWithForm,{name:\"info\",onSubmit:handleSubmit,isOpen:props.isOpen,onClose:props.onClose,title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",btnTitle:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",children:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"input\",(_React$createElement={type:\"text\",className:\"popup__input\",id:\"author\",name:\"author\"},_defineProperty(_React$createElement,\"id\",\"popup__name\"),_defineProperty(_React$createElement,\"minLength\",\"2\"),_defineProperty(_React$createElement,\"maxLength\",\"40\"),_defineProperty(_React$createElement,\"required\",true),_defineProperty(_React$createElement,\"pattern\",\"[A-Za-z\\u0410-\\u042F\\u0401\\u0430-\\u044F\\u0451 -]{1,}\"),_defineProperty(_React$createElement,\"defaultValue\",name),_defineProperty(_React$createElement,\"onChange\",handleNameChange),_React$createElement)),/*#__PURE__*/React.createElement(\"span\",{className:\"popup__input-error\",id:\"popup__name-error\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"popup__input\",name:\"about\",id:\"popup__info\",minLength:\"2\",maxLength:\"200\",required:true,defaultValue:description,onChange:handleAboutChange}),/*#__PURE__*/React.createElement(\"span\",{className:\"popup__input-error\",id:\"popup__info-error\"}))});}export default EditProfilePopup;","map":{"version":3,"sources":["/Users/assetmurzabayev/Desktop/react-mesto-auth/src/components/EditProfilePopup.js"],"names":["React","PopupWithForm","CurrentUserContext","EditProfilePopup","props","currentUser","useContext","useState","name","setName","description","setDescription","useEffect","about","handleNameChange","e","target","value","handleAboutChange","handleSubmit","preventDefault","onUpdateUser","isOpen","onClose"],"mappings":"8UAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,oBAA1B,CACA,OAASC,kBAAT,KAAmC,mCAAnC,CAEA,QAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,0BAE/B,GAAMC,CAAAA,WAAW,CAAGL,KAAK,CAACM,UAAN,CAAiBJ,kBAAjB,CAApB,CAEA;AAJ+B,oBAKPF,KAAK,CAACO,QAAN,CAAe,EAAf,CALO,oDAKxBC,IALwB,qBAKlBC,OALkB,0CAMOT,KAAK,CAACO,QAAN,CAAe,EAAf,CANP,qDAMxBG,WANwB,qBAMXC,cANW,qBAQ/BX,KAAK,CAACY,SAAN,CAAgB,UAAM,CACpBH,OAAO,CAACJ,WAAW,CAACG,IAAb,CAAP,CACAG,cAAc,CAACN,WAAW,CAACQ,KAAb,CAAd,CACD,CAHD,CAGG,CAACR,WAAD,CAHH,EAKA,QAASS,CAAAA,gBAAT,CAA0BC,CAA1B,CAA6B,CAC3BN,OAAO,CAACM,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACD,CAED,QAASC,CAAAA,iBAAT,CAA2BH,CAA3B,CAA8B,CAC5BJ,cAAc,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CAED,CAED,QAASE,CAAAA,YAAT,CAAsBJ,CAAtB,CAAyB,CACvB;AACAA,CAAC,CAACK,cAAF,GACA;AACAhB,KAAK,CAACiB,YAAN,CAAmB,CACfb,IAAI,CAAEA,IADS,CAEfK,KAAK,CAAEH,WAFQ,CAAnB,EAIH,CAEC,mBACE,oBAAC,aAAD,EAAe,IAAI,CAAC,MAApB,CAA2B,QAAQ,CAAES,YAArC,CAAmD,MAAM,CAAEf,KAAK,CAACkB,MAAjE,CAAyE,OAAO,CAAElB,KAAK,CAACmB,OAAxF,CAAkG,KAAK,CAAC,2HAAxG,CAAgI,QAAQ,CAAC,wDAAzI,CAAqJ,QAAQ,cACzJ,qDACA,mDAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,EAAE,CAAC,QAA/C,CAAwD,IAAI,CAAC,QAA7D,4CAAyE,aAAzE,mDAAiG,GAAjG,mDAA+G,IAA/G,uGAAqI,sDAArI,sDAA4Kf,IAA5K,kDAA4LM,gBAA5L,wBADA,cAEA,4BAAM,SAAS,CAAC,oBAAhB,CAAqC,EAAE,CAAC,mBAAxC,EAFA,cAGA,6BAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,IAAI,CAAC,OAAjD,CAAyD,EAAE,CAAC,aAA5D,CAA0E,SAAS,CAAC,GAApF,CAAwF,SAAS,CAAC,KAAlG,CAAwG,QAAQ,KAAhH,CAAkH,YAAY,CAAEJ,WAAhI,CAA6I,QAAQ,CAAEQ,iBAAvJ,EAHA,cAIA,4BAAM,SAAS,CAAC,oBAAhB,CAAqC,EAAE,CAAC,mBAAxC,EAJA,CADJ,EADF,CAUD,CAED,cAAef,CAAAA,gBAAf","sourcesContent":["import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // const [value, setValue] = React.useState('');\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleAboutChange(e) {\n    setDescription(e.target.value);\n\n  }\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser({\n        name: name,\n        about: description\n      });\n}\n\n  return (\n    <PopupWithForm name=\"info\" onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose}  title=\"Редактировать профиль\" btnTitle=\"Сохранить\" children={\n        <>\n        <input type=\"text\" className=\"popup__input\" id='author' name=\"author\" id=\"popup__name\" minLength=\"2\" maxLength=\"40\" required pattern=\"[A-Za-zА-ЯЁа-яё -]{1,}\" defaultValue={name} onChange={handleNameChange}/>  \n        <span className=\"popup__input-error\" id=\"popup__name-error\"></span> \n        <input type=\"text\" className=\"popup__input\" name=\"about\" id=\"popup__info\" minLength=\"2\" maxLength=\"200\" required  defaultValue={description} onChange={handleAboutChange}/> \n        <span className=\"popup__input-error\" id=\"popup__info-error\"></span>  \n        </>\n      }/>\n  );\n}\n\nexport default EditProfilePopup;"]},"metadata":{},"sourceType":"module"}