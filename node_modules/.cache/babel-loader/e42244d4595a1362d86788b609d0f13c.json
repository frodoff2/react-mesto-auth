{"ast":null,"code":"import _slicedToArray from\"/Users/assetmurzabayev/Desktop/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{Link,useHistory}from'react-router-dom';import*as Auth from'../Auth.js';var Login=function Login(props){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),email=_React$useState2[0],setEmail=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),password=_React$useState4[0],setPassword=_React$useState4[1];var history=useHistory();var handleSubmit=function handleSubmit(e){e.preventDefault();Auth.login(email,password).then(function(data){if(data.token){setEmail('');setPassword('');props.handleLogin();history.push('/');}else{return;}}).catch(function(err){return console.log(err);});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit,className:\"main\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"main__title\"},\" \\u0412\\u0445\\u043E\\u0434 \"),/*#__PURE__*/React.createElement(\"input\",{className:\"main__input\",type:\"text\",placeholder:\"Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/React.createElement(\"span\",null,\" \"),/*#__PURE__*/React.createElement(\"input\",{className:\"main__input main__input_margins\",type:\"text\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/React.createElement(\"span\",null,\" \"),/*#__PURE__*/React.createElement(\"button\",{className:\"main__button\",type:\"submit\"},\" \\u0412\\u043E\\u0439\\u0442\\u0438 \"),/*#__PURE__*/React.createElement(\"div\",{className:\"main__caption\"},/*#__PURE__*/React.createElement(\"p\",null,\" \\u0415\\u0449\\u0435 \\u043D\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B? \"),/*#__PURE__*/React.createElement(Link,{to:\"/signup\",className:\"main__register\"},\" \\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"))));};export default Login;","map":{"version":3,"sources":["/Users/assetmurzabayev/Desktop/react-mesto-auth/src/components/Login.js"],"names":["React","Link","useHistory","Auth","Login","props","useState","email","setEmail","password","setPassword","history","handleSubmit","e","preventDefault","login","then","data","token","handleLogin","push","catch","err","console","log","target","value"],"mappings":"sKAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,MAAO,GAAKC,CAAAA,IAAZ,KAAsB,YAAtB,CAGA,GAAOC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,KAAD,CAAW,qBACEL,KAAK,CAACM,QAAN,CAAe,EAAf,CADF,oDACjBC,KADiB,qBACVC,QADU,0CAEQR,KAAK,CAACM,QAAN,CAAe,EAAf,CAFR,qDAEjBG,QAFiB,qBAEPC,WAFO,qBAGxB,GAAMC,CAAAA,OAAO,CAAGT,UAAU,EAA1B,CAEF,GAAMU,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CACzBA,CAAC,CAACC,cAAF,GACCX,IAAI,CAACY,KAAL,CAAWR,KAAX,CAAkBE,QAAlB,EACCO,IADD,CACM,SAACC,IAAD,CAAU,CACd,GAAGA,IAAI,CAACC,KAAR,CAAe,CACbV,QAAQ,CAAC,EAAD,CAAR,CACAE,WAAW,CAAC,EAAD,CAAX,CACAL,KAAK,CAACc,WAAN,GACAR,OAAO,CAACS,IAAR,CAAa,GAAb,EACD,CALD,IAKO,CACL,OACD,CACF,CAVD,EAWCC,KAXD,CAWO,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAXV,EAYD,CAdH,CAeA,mBACE,qDACA,4BAAM,QAAQ,CAAEV,YAAhB,CAA8B,SAAS,CAAC,MAAxC,eACE,0BAAI,SAAS,CAAC,aAAd,+BADF,cAEE,6BAAO,SAAS,CAAC,aAAjB,CAA+B,IAAI,CAAC,MAApC,CAA2C,WAAW,CAAC,OAAvD,CAA+D,KAAK,CAAEL,KAAtE,CAA6E,QAAQ,CAAE,kBAAAM,CAAC,QAAIL,CAAAA,QAAQ,CAAEK,CAAC,CAACY,MAAF,CAASC,KAAX,CAAZ,EAAxF,EAFF,cAGE,oCAHF,cAIE,6BAAO,SAAS,CAAC,iCAAjB,CAAmD,IAAI,CAAC,MAAxD,CAA+D,WAAW,CAAC,sCAA3E,CAAoF,KAAK,CAAEjB,QAA3F,CAAqG,QAAQ,CAAE,kBAAAI,CAAC,QAAIH,CAAAA,WAAW,CAAEG,CAAC,CAACY,MAAF,CAASC,KAAX,CAAf,EAAhH,EAJF,cAKE,oCALF,cAME,8BAAQ,SAAS,CAAC,cAAlB,CAAiC,IAAI,CAAC,QAAtC,qCANF,cAOE,2BAAK,SAAS,CAAC,eAAf,eACE,mKADF,cAEE,oBAAC,IAAD,EAAM,EAAE,CAAE,SAAV,CAAoB,SAAS,CAAC,gBAA9B,wEAFF,CAPF,CADA,CADF,CAgBC,CApCD,CAsCC,cAAetB,CAAAA,KAAf","sourcesContent":["import React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport * as Auth from '../Auth.js';\n\n\nconst  Login = (props) => {\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const history = useHistory();\n\nconst handleSubmit = (e) => {\n   e.preventDefault();\n    Auth.login(email, password)\n    .then((data) => {\n      if(data.token) {\n        setEmail('')\n        setPassword('')\n        props.handleLogin();\n        history.push('/');\n      } else { \n        return;\n      }\n    })\n    .catch(err => console.log(err));\n  }\nreturn(\n  <>\n  <form onSubmit={handleSubmit} className=\"main\"> \n    <h1 className=\"main__title\"> Вход </h1> \n    <input className=\"main__input\" type=\"text\" placeholder=\"Email\" value={email} onChange={e => setEmail( e.target.value )} /> \n    <span> </span>\n    <input className=\"main__input main__input_margins\" type=\"text\" placeholder=\"Пароль\" value={password} onChange={e => setPassword( e.target.value )}/>\n    <span> </span>\n    <button className=\"main__button\" type=\"submit\"> Войти </button>\n    <div className=\"main__caption\"> \n      <p> Еще не зарегистрированы? </p> \n      <Link to =\"/signup\" className=\"main__register\"> Регистрация</Link>\n    </div>\n  </form>\n  </>\n  );\n}\n\n export default Login;"]},"metadata":{},"sourceType":"module"}